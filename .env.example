# ============================================
# CRM Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ============================================
# Application Configuration
# ============================================

# Node Environment
# Options: development, production, test
# Default: development
NODE_ENV="development"

# Server Port
# Default: 3000
PORT=3000

# ============================================
# Database Configuration
# ============================================

# Runtime Database URL (PgBouncer)
# This should point to your PgBouncer connection (port 6543)
# Format: postgresql://user:password@host:6543/database
# Required: Yes
DATABASE_URL="postgresql://user:password@host:6543/database"

# Direct Database URL (PostgreSQL)
# This should point directly to PostgreSQL (port 5432) for migrations
# Format: postgresql://user:password@host:5432/database
# Required: Yes
DIRECT_DATABASE_URL="postgresql://user:password@host:5432/database"

# Connection Pool Limit
# Maximum number of connections in the pool
# Default: 10 (development), 20 (production)
# Optional
DB_POOL_LIMIT=10

# Connection Pool Timeout (seconds)
# Timeout for acquiring a connection from the pool
# Default: 20 (development), 30 (production)
# Optional
DB_POOL_TIMEOUT=20

# Prepared Statements
# Whether to use prepared statements (must be false for PgBouncer)
# Default: false
# Optional
DB_PREPARED_STATEMENTS=false

# Database Logging
# Enable database query logging
# Default: true (development), false (production)
# Optional
DB_LOGGING=false

# Database SSL
# Enable SSL for database connections
# Default: false (development), true (production)
# Optional
DB_SSL=false

# Health Check Interval (milliseconds)
# Interval for periodic database health checks (development only)
# Minimum: 10000 (10 seconds)
# Maximum: 300000 (5 minutes)
# Default: 60000 (60 seconds)
# Optional
DB_HEALTH_CHECK_INTERVAL=60000

# ============================================
# JWT Configuration
# ============================================

# JWT Secret Key
# Secret key used to sign and verify JWT tokens
# Must be at least 16 characters long
# In production, must be changed from default value
# Required: Yes
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# JWT Token Expiration
# How long JWT tokens remain valid
# Format: number followed by s/m/h/d (e.g., "7d", "1h", "30m")
# Default: 7d (7 days)
# Optional
JWT_EXPIRES_IN="7d"

# JWT Debug Mode
# Enable debug logging for JWT authentication
# Default: false (development), false (production)
# Optional
JWT_DEBUG=false

# ============================================
# Notes
# ============================================
#
# 1. Database URLs:
#    - DATABASE_URL should point to PgBouncer (port 6543) for connection pooling
#    - DIRECT_DATABASE_URL should point to PostgreSQL (port 5432) for migrations
#
# 2. Security:
#    - Never commit .env file to version control
#    - Use strong, unique JWT_SECRET in production
#    - Enable SSL (DB_SSL=true) in production
#
# 3. Performance:
#    - Adjust DB_POOL_LIMIT based on your database capacity
#    - Health checks only run in development mode
#
# 4. Development:
#    - Set NODE_ENV=development for local development
#    - Enable DB_LOGGING=true to see database queries
#    - Enable JWT_DEBUG=true to debug authentication issues
